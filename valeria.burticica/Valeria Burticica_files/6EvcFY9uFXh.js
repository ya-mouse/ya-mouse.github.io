if (self.CavalryLogger) { CavalryLogger.start_js(["QFd8JNR"]); }

__d("MOcelotComposerPlaceholderFormLoader",["DOM","EventListener","Keys","MComposerEntry","Stratcom","XOcelotComposerAsyncLoaderController","ge"],(function(a,b,c,d,e,f){e.exports={_isOpen:!1,_isSubmitting:!1,_viewport:HTMLElement,_textarea:HTMLInputElement,_submittingContainer:HTMLElement,_featureBlockContainer:null,initElements:function(a){var c=this,d=b("XOcelotComposerAsyncLoaderController").getURIBuilder().setEnum("publisher",a.publisher).setFBID("target_id",a.targetId).getURI(),e=b("ge")("composer-async-loader-root");if(!e){a.elementsParams.forEach(function(a){b("EventListener").listen(a.element,"click",function(){b("MComposerEntry").invokeOcelot(d,!0,a.onOpenAction)})});return}this._viewport=b("ge")("viewport");this._submittingContainer=b("DOM").find(e,"div","composer-submitting");this._textarea=b("DOM").find(e,"textarea","composer-placeholder-textarea");this._placeholderComposerForm=b("DOM").find(e,"form","composer-placeholder-form");e=b("DOM").find(this._placeholderComposerForm,"div","cancel_composer");var f=[b("EventListener").listen(e,"click",function(){c.hideComposer()}),b("EventListener").listen(this._placeholderComposerForm,"submit",function(a){if(c._textarea.value.length===0){a.preventDefault();return!1}c._isSubmitting=!0;b("DOM").show(c._submittingContainer);return!0}),b("Stratcom").listen("click","show_composer",function(){c.showComposer(a.autoFocus),b("MComposerEntry").invokeOcelot(d,!1,"status",function(){f.forEach(function(a){return a.remove()});return c._isOpen})})];this._placeholderComposerForm.style.display!=="none"&&(this._isOpen=!0,this._isSubmitting=!1,b("MComposerEntry").invokeOcelot(d,!1,"status",function(){f.forEach(function(a){return a.remove()});return c._isOpen}));a.elementsParams.forEach(function(e){e.element.onclick=null,b("EventListener").listen(e.element,"click",function(){c.handleOnClick(a,d,e.onOpenAction,f)}),b("EventListener").listen(e.element,"keydown",function(g){(g.keyCode===b("Keys").RETURN||g.keyCode===b("Keys").SPACE)&&c.handleOnClick(a,d,e.onOpenAction,f)})})},handleOnClick:function(a,c,d,e){var f=this;if(b("MComposerEntry").blockNavigateToComposer())return;this.showComposer(a.autoFocus);this._isSubmitting=!1;b("MComposerEntry").invokeOcelot(c,!1,d,function(){e.forEach(function(a){return a.remove()});return f._isOpen})},showComposer:function(a){this._isOpen=!0,b("DOM").show(this._placeholderComposerForm),b("DOM").hide(this._viewport),b("DOM").hide(this._submittingContainer),a&&this._textarea.focus()},hideComposer:function(){if(this._isSubmitting)return;this._isOpen=!1;b("DOM").show(this._viewport);b("DOM").hide(this._placeholderComposerForm)}}}),null);
__d("MSiteDiodeSourceGroup",[],(function(a,b,c,d,e,f){a=Object.freeze({MESSENGER:"messenger",MLITE:"mlite"});f["default"]=a}),66);
__d("MessengerLiteDiodeTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerLiteDiodeLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerLiteDiodeLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerLiteDiodeLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setMsiteDiodePromotableApp=function(a){this.$1.msite_diode_promotable_app=a;return this};c.setMsiteDiodeStateFromClient=function(a){this.$1.msite_diode_state_from_client=a;return this};c.setSource=function(a){this.$1.source=a;return this};return a}();c={event:!0,msite_diode_promotable_app:!0,msite_diode_state_from_client:!0,source:!0};f["default"]=a}),66);
__d("XMSiteDiodeMessengerLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messenger/log/",{log:{type:"Bool",defaultValue:!1}})}),null);
__d("MessagesJewelNativeAppRedirect",["$","DOM","Event","MHistory","MJewels","MRedirectToNative","MRequest","MSiteMessengerDiodeTypedLogger","MessengerLiteDiodeTypedLogger","Run","Stratcom","URI","XMSiteDiodeMessengerLoggingController","ge","qex"],(function(a,b,c,d,e,f,g){function h(a){function b(b){b.getData().jewel==="messages"&&a()}c("Stratcom").listen("m:jewel:flyout:open",null,b)}function i(a){var b=c("$")("MChromeHeader"),e=d("DOM").find(b,"div","messages");if(!e)return;b=d("DOM").find(e,"*","icon");c("Event").listen(b,"click",function(){var b=c("ge")("peek_state_avatar",e,"div");(b===null||b.style.display==="none")&&a()})}function j(a,b,e,f,g,h,i,j){var k=c("XMSiteDiodeMessengerLoggingController").getURIBuilder().setBool("log",!0).getURI();new(c("MRequest"))(k).send();j=!!(j&&!g);if(e){i==="mlite"?new(c("MessengerLiteDiodeTypedLogger"))().setEvent("fastswitch_attempt").setMsiteDiodeStateFromClient(f).setMsiteDiodePromotableApp(h).log():new(c("MSiteMessengerDiodeTypedLogger"))().setEvent("fast_app_switch_attempt").setMessagingEntryPoint(b).setMsiteDiodeStateFromClient(f).log();c("qex")._("1710404");c("qex")._("2007879");k=new(c("URI"))(a);d("MRedirectToNative").redirect(k,{returnToFeed:j,newTab:g});g&&c("MHistory").popSoftState(d("MJewels").MESSAGES)}}a={registerRedirect:function(a,b,c,e,f,g,k,l,m,n){var o=function(){return j(a,b,c,e,f,g,k,l)},p=function(){m?i(o):h(o)};n?d("Run").onAfterLoad(p):p()}};b=a;g["default"]=b}),98);
__d("MessengerRedirectOnClick",["MRedirectToNative","MRequest","MSiteMessengerDiodeTypedLogger","MessengerLiteDiodeTypedLogger","URI","XMSiteDiodeMessengerLoggingController"],(function(a,b,c,d,e,f,g){function h(a,b,c){d("MRedirectToNative").redirect(a,{returnToFeed:b,newTab:c})}a={logClick:function(a,b,d,e,f){a.onclick=function(){new(c("MSiteMessengerDiodeTypedLogger"))().setEvent("redirect_button_click").setMessagingEntryPoint(b).setBadgeCount(d).setUnreadCount(e).setExtra(f).log()}},register:function(a,b,d,e,f,g,i,j){b.onclick=function(){var b=c("XMSiteDiodeMessengerLoggingController").getURIBuilder().setBool("log",!0).getURI();new(c("MRequest"))(b).send();b=!e;if(e&&i==="mlite"){new(c("MessengerLiteDiodeTypedLogger"))().setEvent("fastswitch_attempt").setMsiteDiodeStateFromClient(f).setMsiteDiodePromotableApp(g).log();var k=new(c("URI"))(a);h(k,j,b)}else if(e){new(c("MSiteMessengerDiodeTypedLogger"))().setEvent("fast_app_switch_attempt").setMessagingEntryPoint(d).setMsiteDiodeStateFromClient(f).log();k=new(c("URI"))(a);h(k,j,b)}}},setReturnToFeed:function(a,b){d("MRedirectToNative").setReturnToFeed(a,{returnToFeed:b,newTab:!0})}};b=a;g["default"]=b}),98);
__d("FeedStoryCategory",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNKNOWN:0,ORGANIC:1,ENGAGEMENT:2,FIXED_POSITION:3,PROMOTION:4,SPONSORED:5,END_OF_FEED_CONTENT:6,FB_STORIES:7,HIGH_VALUE_PROMOTION:8,FB_STORIES_ENGAGEMENT:9,SHOWCASE:10,FB_SHORTS:11,TRENDING:12,ENGAGEMENT_QP:13})}),null);
__d("AdAllocationIntegrityGapsInfo",["FeedStoryCategory"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.story_category=a,this.dist_to_top=-1,this.dist_to_fixed=-1,this.dist_to_promo=-1,this.dist_to_sponsored=-1,this.dist_to_engagement=-1}var b=a.prototype;b.setDistToTop=function(a){this.dist_to_top=a};b.setDistIfAbsent=function(a,b){if(b<0||a===c("FeedStoryCategory").UNKNOWN||a===c("FeedStoryCategory").ORGANIC)return;switch(a){case c("FeedStoryCategory").ENGAGEMENT:this.dist_to_engagement=this.$1(b,this.dist_to_engagement);break;case c("FeedStoryCategory").FIXED_POSITION:this.dist_to_fixed=this.$1(b,this.dist_to_fixed);break;case c("FeedStoryCategory").PROMOTION:this.dist_to_promo=this.$1(b,this.dist_to_promo);break;case c("FeedStoryCategory").SPONSORED:this.dist_to_sponsored=this.$1(b,this.dist_to_sponsored);break}};b.$1=function(a,b){return b===-1?a:b};return a}();g["default"]=a}),98);
__d("AdAllocationIntegrityUtils",["DataAttributeUtils","FBJSON","FeedStoryCategory"],(function(a,b,c,d,e,f,g){"use strict";var h="data-story_category",i="data-dedupekey";function a(a){var b=d("FBJSON").parse(a.getAttribute("data-ft"),f.id);a=c("DataAttributeUtils").getDataAttribute(a,h);if(a)switch(a){case"2":return c("FeedStoryCategory").ENGAGEMENT;case"3":return c("FeedStoryCategory").FIXED_POSITION;case"4":return c("FeedStoryCategory").PROMOTION;default:return c("FeedStoryCategory").UNKNOWN}else if("ei"in b)return c("FeedStoryCategory").SPONSORED;else return c("FeedStoryCategory").ORGANIC}function b(a){if(a===c("FeedStoryCategory").SPONSORED||a===c("FeedStoryCategory").ENGAGEMENT||a===c("FeedStoryCategory").FIXED_POSITION||a===c("FeedStoryCategory").PROMOTION)return!0;else return!1}function e(a){return c("DataAttributeUtils").getDataAttribute(a,i)}g.getFeedStoryCategory=a;g.isGapRuleCategory=b;g.getDedupKey=e}),98);
__d("WwwVpvFeedTrackingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1841521");c=b("FalcoLoggerInternal").create("www_vpv_feed_tracking",a);e.exports=c}),null);
__d("MEntstreamViewportTracking",["AdAllocationIntegrityGapsInfo","AdAllocationIntegrityUtils","DOM","DataAttributeUtils","ErrorUtils","FBJSON","MHistory","MURI","MViewport","MViewportTracking","Stratcom","StratcomManager","Vector","WwwVpvFeedTrackingFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h=51,i={},j=null,k=null,l=null;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.enableCacheReadStoryIds=!1,b)||babelHelpers.assertThisInitialized(c)}b.init=function(a){d("StratcomManager").enableDispatch(document,"scroll"),new b().init(a)};var e=b.prototype;e.init=function(b){b.enable_cache_read_story_ids&&n(),a.prototype.init.call(this,b)};e.getDataFromConfig=function(a){this.enableAdsAllocationIntegrityLogging=!!a.enable_ads_allocation_integrity_logging,this.enableCacheReadStoryIds=!!a.enable_cache_read_story_ids};e.__getStreamRoot=function(){this.$MEntstreamViewportTracking1||(this.$MEntstreamViewportTracking1=document.getElementById("root"));return this.$MEntstreamViewportTracking1};e.getFBFeedLocation=function(){return 1};e.getAllStories=function(){return d("DOM").scry(this.__getStreamRoot(),"article","story-div")};e.getTimeout=function(){return 300};e.getDataToLog=function(a){var b=Object.assign(d("FBJSON").parse(a.getAttribute("data-ft"),f.id),{evt:h});if(!this.isTimeTrackingEnabled){var e=d("DOM").scry(a,"*","data-is-cta").map(function(a){a=c("DataAttributeUtils").getDataFt(a);a=a&&JSON.parse(a);return a&&a.cta_types}).filter(function(a){return!!a});b.cta_types=e}if(this.enableAdsAllocationIntegrityLogging){e=d("AdAllocationIntegrityUtils").getFeedStoryCategory(a);var g=new(c("AdAllocationIntegrityGapsInfo"))(e),i=d("AdAllocationIntegrityUtils").getDedupKey(a);if(d("AdAllocationIntegrityUtils").isGapRuleCategory(e)&&i!==null){e=this.getAllStories();var j=-1;for(var k=e.length-1;k>=0;k--){var l=d("AdAllocationIntegrityUtils").getDedupKey(e[k]);if(j<0)l!==null&&i===l&&(j=k,g.setDistToTop(j+1));else{l=d("AdAllocationIntegrityUtils").getFeedStoryCategory(e[k]);d("AdAllocationIntegrityUtils").isGapRuleCategory(l)&&g.setDistIfAbsent(l,j-k)}}}Object.assign(b,g)}"getBoundingClientRect"in a?(l=a.getBoundingClientRect(),e=l.height,i=l.top+d("MViewport").getScrollTop()):(e=c("Vector").getDim(a).y,i=c("Vector").getPos(a).y);b.evt_value=e;b.offset=i;b.story_height=e;b.impression_type=d("MViewport").isLandscape()?"landscape":"portrait";return b};e.getStoryID=function(a){a=a.getAttribute("data-ft");return!a?null:d("FBJSON").parse(a,f.id).mf_story_key};e.sendDataToLog=function(a){c("WwwVpvFeedTrackingFalcoEvent").log(function(){return{tracking:JSON.stringify(a)}})};e.onUnload=function(){a.prototype.onUnload.call(this);if(!this.enableCacheReadStoryIds||!k)return;i[k]=this.readStoryIDs};e.getCachedReadStoryIDs=function(){if(!this.enableCacheReadStoryIds||!k)return;return l===k?null:i[k]||null};return b}(c("MViewportTracking"));function m(a){var b=a||c("MHistory").getPath();return b?c("ErrorUtils").guard(function(){return new(c("MURI"))(b).normalize().getPath().toLowerCase()})():null}function n(){j||(j=c("Stratcom").listen("m:page:request-sent",null,function(a){if(a&&a.getData){a=m(a.getData().path);a&&(delete i[a],l=a)}})),k=m()}g["default"]=a}),98);
__d("MLoadTimeOutBanner",["Stratcom","clearTimeout","gkx","qex","setTimeout"],(function(a,b,c,d,e,f,g){function h(a){a=document.getElementById(a);a&&(c("qex")._("224"),a.style.display="inherit")}function a(a,b){var d=c("setTimeout")(h.bind(null,a),b);c("gkx")("883592")&&c("Stratcom").listen("m:page:unload",null,function(){c("Stratcom").removeCurrentListener(),c("clearTimeout")(d),window.disableInlinedPopUpBanner=!0})}g.init=a}),98);